# Uncomment to turn on logging, and set ZMK logging to debug output
#CONFIG_ZMK_USB_LOGGING=y
#CONFIG_LOG_PROCESS_THREAD_STARTUP_DELAY_MS=15000

# Encoder configuration
CONFIG_EC11=y
CONFIG_EC11_TRIGGER_GLOBAL_THREAD=y

# Display configuration
CONFIG_ZMK_DISPLAY=y

# GPIO LED Configuration
CONFIG_GPIO=y
CONFIG_LED=y

# Bluetooth Configuration
CONFIG_BT=y
CONFIG_ZMK_BLE=y
CONFIG_BT_MAX_CONN=5
CONFIG_BT_MAX_PAIRED=5
CONFIG_ZMK_KEYBOARD_NAME="EKeeb"

# Connection parameters
CONFIG_BT_PERIPHERAL_PREF_MIN_INT=12
CONFIG_BT_PERIPHERAL_PREF_MAX_INT=24
CONFIG_BT_PERIPHERAL_PREF_LATENCY=30
CONFIG_BT_PERIPHERAL_PREF_TIMEOUT=400

# Enhanced stability
CONFIG_BT_BUF_ACL_RX_COUNT=8
CONFIG_BT_BUF_ACL_TX_COUNT=8
CONFIG_BT_L2CAP_TX_BUF_COUNT=8
CONFIG_BT_CTLR_RX_BUFFERS=8
CONFIG_BT_CTLR_TX_BUFFERS=8
CONFIG_BT_ATT_PREPARE_COUNT=5

# Power and PHY settings
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y
CONFIG_BT_DATA_LEN_UPDATE=y
CONFIG_BT_AUTO_PHY_UPDATE=y

# Security settings
CONFIG_BT_SETTINGS=y
CONFIG_BT_SETTINGS_CCC_STORE_ON_WRITE=y
CONFIG_BT_SMP=y
CONFIG_BT_SMP_SC_PAIR_ONLY=y
CONFIG_BT_GATT_ENFORCE_SUBSCRIPTION=n

# ZMK BLE optimizations
CONFIG_ZMK_BLE_THREAD_PRIORITY=5
CONFIG_ZMK_BLE_THREAD_STACK_SIZE=2048
CONFIG_ZMK_BLE_CONSUMER_REPORT_QUEUE_SIZE=5

# USB Configuration
CONFIG_ZMK_USB=y
CONFIG_ZMK_MOUSE=y

# System optimizations
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048
CONFIG_MAIN_STACK_SIZE=2048
CONFIG_ISR_STACK_SIZE=2048